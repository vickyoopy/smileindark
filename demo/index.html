<!DOCTYPE html>
<html>
<head>
	<title>Demo Home</title>
</head>
<body>
<h1>这个页面将会解释如何通过原生Javascript获取数据并更改页面内容</h1>
<div id="container">
	<p>首先，我们有一个id为container的div</p>
	<p id="content">然后其中有一个id是content的段落<p>
	<p id="desc_1">点击按钮1会直接更改content的内容<p>
	<p id="desc_2">点击按钮2会通过get方式获取其他资源后更改content的内容<p>
	<p id="desc_3">点击按钮3效果与按钮1相同，但是使用了不同的实现方式<p>
	<p id="desc_4">3个按钮的方法调用方式均不相同，但效果类似<p>
	<button id="btn_1">按钮1</button>
	<button id="btn_2" onclick="getContent()">按钮2</button>
	<button id="btn_3">按钮3</button>
</div>
<div id="code">
	<p>这里是代码</p><a href="tutor_1.html">下一页</a>
	<pre class="code-bg">
		<span class="keyword">var</span> content <span class="operation">=</span> <span class="keyword">document</span>.<span class="keyword">getElementById</span>(<span class="string">'content'</span>) 			<span class="comment">// 获取content段落元素</span>
		<span class="keyword">var</span> button_1 <span class="operation">=</span> <span class="keyword">document</span>.<span class="keyword">getElementById</span>(<span class="string">'btn_1'</span>)				<span class="comment">// 获取按钮1元素</span>
		<span class="keyword">button_1</span>.<span class="method">onclick</span> <span class="operation">=</span> <span class="keyword">function</span>(){						<span class="comment">// 对按钮绑定点击事件</span>
			content.innerHTML <span class="operation">=</span> <span class="string">"你点击了第一个按钮"</span>; 			<span class="comment">// 点击后更改content的内容</span>
		}

		<span class="method">getContent</span> <span class="operation">=</span> <span class="keyword">function</span>(){
			<span class="keyword">var</span> xmlHttp = <span class="operation">new</span> XMLHttpRequest()				<span class="comment">// 创建XMLHttpRequest对象</span>

			xmlHttp.<span class="method">onreadystatechange</span><span class="operation">=</span><span class="keyword">function</span>(){				<span class="comment">// 异步请求后执行的函数</span>
				<span class="operation">if</span> (xmlHttp.<span class="keyword">readyState</span><span class="operation">=</span>=<span class="constant">4</span> <span class="operation">&&</span> xmlHttp.<span class="keyword">status</span><span class="operation">==</span><span class="constant">200</span>){
					content.innerHTML<span class="operation">=</span>xmlHttp.responseText 		<span class="comment">// 更改content内容</span>
				}
			}

			xmlHttp.<span class="keyword">open</span>(<span class="string">"GET"</span>,<span class="string">"data_1.json"</span>,<span class="constant">true</span>)				<span class="comment">// 通过XMLHttpRequest对象读取服务器文件</span>
			xmlHttp.<span class="keyword">send</span>()							<span class="comment">// 发送请求</span>
			<span class="comment">// open(method,url,async) 其中method是请求类型，GET或者POST</span>
			<span class="comment">// url是请求文件的地址</span>
			<span class="comment">// async是一个布尔值，用来区分采用同步还是异步的方法读取，true为异步，false为同步</span>
			<span class="comment">// 如果是异步请求，浏览器会在发送请求后继续执行脚本，直到xmlHttp的状态改变时，运行事先编辑好的onreadystatechange方法</span>
			
			<span class="comment">// 如果是同步请求，浏览器会等待服务器回复后才继续执行,不再需要编写onreadystatechange方法：</span>
			<span class="comment">// xmlHttp.open("GET","data_1.json",false)</span>
			<span class="comment">// document.getElementById("content").innerHTML=xmlhttp.responseText</span>
		}

		<span class="keyword">var</span> button_3 <span class="operation">=</span> <span class="keyword">document</span>.<span class="keyword">getElementById</span>(<span class="string">'btn_3'</span>) 			<span class="comment">// 获取按钮3元素</span>
		button_3.addEventListener(<span class="string">"click"</span>, <span class="keyword">function</span>(){
			content.innerHTML <span class="operation">=</span> "你点击了第三个按钮"				<span class="comment">// 点击后更改content的内容</span>
		});
	</pre>
</div>
<script type="text/javascript">
	var content = document.getElementById("content") 		// 获取content段落元素
	var button_1 = document.getElementById('btn_1')			// 获取按钮1元素
	button_1.onclick = function(){							// 对按钮绑定点击事件
		content.innerHTML = "你点击了第一个按钮"; 			// 点击后更改content的内容
	}

	getContent = function(){
		var xmlHttp = new XMLHttpRequest()					// 创建XMLHttpRequest对象

		xmlHttp.onreadystatechange=function(){				// 异步请求后执行的函数
			if (xmlHttp.readyState==4 && xmlHttp.status==200){
				content.innerHTML=xmlHttp.responseText 		// 更改content内容
			}
		}

		xmlHttp.open("GET","data_1.json",true)				// 通过XMLHttpRequest对象读取服务器文件
		xmlHttp.send()										// 发送请求
		// open(method,url,async) 其中method是请求类型，GET或者POST
		// url是请求文件的地址
		// async是一个布尔值，用来区分采用同步还是异步的方法读取，true为异步，false为同步
		// 如果是异步请求，浏览器会在发送请求后继续执行脚本，直到xmlHttp的状态改变时，运行事先编辑好的方法：
		
		// 如果是同步请求，浏览器会等待服务器回复后才继续执行,不再需要编写onreadystatechange方法：
		// xmlHttp.open("GET","data_1.json",false)
		// document.getElementById("content").innerHTML=xmlhttp.responseText
	}

	var button_3 = document.getElementById('btn_3') 		// 获取按钮3元素
	button_3.addEventListener("click", function(){			// 向按钮3绑定点击事件
		content.innerHTML = "你点击了第三个按钮"			// 点击后更改content的内容
	});
</script>
<style type="text/css">
	.keyword{
		color:rgb(72,190,239);
	}
	.operation{
		color:rgb(185,38,89);
	}
	.method{
		color:rgb(166,226,46);
	}
	.constant{
		color:rgb(174,129,255);
	}
	.comment{
		color:rgb(117,113,94);
	}
	.string{
		color:rgb(230,219,116);
	}
	.code-bg{
		background-color:rgb(39,40,34);
		color:white;
	}
</style>
</body>
</html>